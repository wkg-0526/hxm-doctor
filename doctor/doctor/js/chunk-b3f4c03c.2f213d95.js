(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3f4c03c"],{"66da":function(s,t,e){"use strict";var a=e("7324"),i=e.n(a);i.a},7324:function(s,t,e){},"91d4":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticClass:"login-psw"},[e("el-row",[e("el-col",{attrs:{span:6}},[e("el-collapse",{attrs:{accordion:""},model:{value:s.activeName,callback:function(t){s.activeName=t},expression:"activeName"}},[e("el-collapse-item",{attrs:{title:"登录密码",name:"1"}},[e("el-row",[e("el-col",[e("el-form",{attrs:{"label-position":s.labelPosition,"label-width":"100px",model:s.loginPsw}},[e("el-form-item",{attrs:{label:"密码："}},[e("el-input",{attrs:{placeholder:"请输入"},model:{value:s.loginPsw.psw,callback:function(t){s.$set(s.loginPsw,"psw",t)},expression:"loginPsw.psw"}})],1),e("el-form-item",{attrs:{label:"确认密码："}},[e("el-input",{attrs:{placeholder:"请输入"},model:{value:s.loginPsw.conPsw,callback:function(t){s.$set(s.loginPsw,"conPsw",t)},expression:"loginPsw.conPsw"}})],1),e("el-form-item",{directives:[{name:"show",rawName:"v-show",value:500!==s.apliyResult,expression:"apliyResult===500?false:true"}],attrs:{label:"手机验证码："}},[e("el-input",{attrs:{placeholder:"请输入手机验证码"},model:{value:s.loginPsw.validate,callback:function(t){s.$set(s.loginPsw,"validate",t)},expression:"loginPsw.validate"}})],1)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:14}},[e("span",[e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:s.countDowns}},[s._v(s._s(s.contents))])],1)]),e("el-col",{attrs:{span:8}},[e("span",[e("el-button",{attrs:{type:"primary"},on:{click:s.loginEditPsw}},[s._v("修改密码")])],1)])],1)],1),e("el-collapse-item",{attrs:{title:"支付密码",name:"2"}},[e("el-row",[e("el-col",[e("el-form",{attrs:{"label-position":s.labelPosition,"label-width":"100px",model:s.alipayPsw}},[e("el-form-item",{attrs:{label:"密码："}},[e("el-input",{attrs:{placeholder:"请输入密码"},model:{value:s.alipayPsw.psw,callback:function(t){s.$set(s.alipayPsw,"psw",t)},expression:"alipayPsw.psw"}})],1),e("el-form-item",{attrs:{label:"确认密码："}},[e("el-input",{attrs:{placeholder:"请再次输入密码"},model:{value:s.alipayPsw.conPsw,callback:function(t){s.$set(s.alipayPsw,"conPsw",t)},expression:"alipayPsw.conPsw"}})],1),e("el-form-item",{directives:[{name:"show",rawName:"v-show",value:500!==s.apliyResult,expression:"apliyResult===500?false:true"}],attrs:{label:"手机验证码："}},[e("el-input",{attrs:{placeholder:"请输入手机验证码"},model:{value:s.alipayPsw.validate,callback:function(t){s.$set(s.alipayPsw,"validate",t)},expression:"alipayPsw.validate"}})],1)],1)],1)],1),e("el-row",[e("el-col",{style:{marginBottom:"15px"},attrs:{span:14}},[e("span",{staticClass:"btn"},[e("el-button",{attrs:{type:"primary"},on:{click:s.countDown}},[s._v(s._s(s.content))])],1)]),e("el-col",{attrs:{span:8}},[1===s.apliyResult?e("el-button",{attrs:{type:"primary"},on:{click:s.aplayPsw}},[s._v("确定")]):500===s.apliyResult?e("el-button",{attrs:{type:"primary"},on:{click:s.aplayEditPsw}},[s._v("修改支付密码")]):s._e()],1)],1)],1)],1)],1)],1)],1)])},i=[],l=(e("3b2b"),e("365c")),n={name:"settingPsw",data:function(){return{labelPosition:"left",loginPsw:{psw:"",conPsw:"",validate:""},alipayPsw:{psw:"",conPsw:"",validate:""},apliyResult:1,activeName:"1",content:"发送验证码",totalTime:59,canClick:!0,contents:"发送验证码",totalTimes:59,canClicks:!0}},created:function(){this.findUserPresentationPassword()},methods:{findUserPresentationPassword:function(){var s=this;l["a"].findUserPresentationPassword().then((function(t){200===t.status&&t.data&&(0===t.data.result?s.$message({showClose:!0,message:"未设置支付密码,请设置支付密码",type:"warning"}):1===t.data.result?s.$message({showClose:!0,message:"已设置支付密码",type:"success"}):s.$message({showClose:!0,message:"未登录",type:"error"}))}))},insertUserPresentationPassword:function(s){var t=this;l["a"].insertUserPresentationPassword({password:s}).then((function(s){200===s.status&&s.data&&(t.apliyResult=s.data.result,1===s.data.result?t.$message({showClose:!0,message:"密码设置成功",type:"success"}):500===s.data.result?t.$message({showClose:!0,message:"已设置支付密码",type:"warning"}):t.$message({showClose:!0,message:"未登录",type:"error"}))}))},aplayPsw:function(){var s=new RegExp(/^\d{6}$/);s.test(this.alipayPsw.psw)||s.test(this.alipayPsw.conPsw)?this.alipayPsw.psw===this.alipayPsw.conPsw&&this.insertUserPresentationPassword(this.alipayPsw.conPsw):(this.$message({showClose:!0,message:"请输入六位数字",type:"error"}),this.alipayPsw.psw="",this.alipayPsw.psw,this.alipayPsw.conPsw,this.alipayPsw.conPsw="")},presentationPasswordSendValidate:function(){var s=this;l["a"].presentationPasswordSendValidate().then((function(t){200===t.status&&t.data&&1===t.data.result&&s.$message({showClose:!0,message:"发送成功",type:"success"})}))},countDown:function(){var s=this;if(this.canClick){this.canClick=!1,this.content=this.totalTime+"s后重新发送",this.presentationPasswordSendValidate();var t=window.setInterval((function(){s.totalTime--,s.content=s.totalTime+"s后重新发送",s.totalTime<0&&(window.clearInterval(t),s.content="重新发送验证码",s.totalTime=59,s.canClick=!0)}),1e3)}},updateUserPresentationPassword:function(s,t){var e=this;l["a"].updateUserPresentationPassword({validate:t,password:s}).then((function(s){200===s.status&&s.data&&(1===s.data.result?e.$message({showClose:!0,message:"提现密码修改成功",type:"success"}):500===s.data.result&&e.$message({showClose:!0,message:"验证码错误",type:"warning"}))}))},aplayEditPsw:function(){var s=new RegExp(/^\d{6}$/);s.test(this.alipayPsw.psw)||s.test(this.alipayPsw.conPsw)?this.alipayPsw.psw===this.alipayPsw.conPsw&&this.alipayPsw.validate&&this.updateUserPresentationPassword(this.alipayPsw.conPsw,this.alipayPsw.validate):(this.$message({showClose:!0,message:"请输入六位数字",type:"error"}),this.alipayPsw.psw="",this.alipayPsw.psw,this.alipayPsw.conPsw,this.alipayPsw.conPsw="")},updatePwdSendphonevalidate:function(){var s=this;l["a"].updatePwdSendphonevalidate().then((function(t){200===t.status&&t.data&&(1===t.data.result?s.$message({showClose:!0,message:"发送成功",type:"success"}):s.$message({showClose:!0,message:"未登录",type:"error"}))}))},countDowns:function(){var s=this;if(console.log(111),this.canClicks){this.canClicks=!1,this.contents=this.totalTimes+"s后重新发送",this.updatePwdSendphonevalidate();var t=window.setInterval((function(){s.totalTimes--,s.contents=s.totalTimes+"s后重新发送",s.totalTimes<0&&(window.clearInterval(t),s.contents="重新发送验证码",s.totalTimes=59,s.canClicks=!0)}),1e3)}},updateUserPasswordValidate:function(s,t){var e=this;l["a"].updateUserPasswordValidate({userPassword:s,validate:t}).then((function(s){200===s.status&&s.data&&(1===s.data.result?e.$alert("密码修改成功,请重新登录",{confirmButtonText:"确定",center:!0,callback:function(s){e.$router.push({path:"/login"})}}):500===s.data.result&&e.$message({showClose:!0,message:"验证码错误",type:"warning"}))}))},loginEditPsw:function(){var s=new RegExp(/[a-zA-Z_0-9]{5,20}$/);s.test(this.loginPsw.psw)||s.test(this.loginPsw.conPsw)?this.loginPsw.psw===this.loginPsw.conPsw&&this.loginPsw.validate&&this.updateUserPasswordValidate(this.loginPsw.conPsw,this.loginPsw.validate):(this.$message({showClose:!0,message:"请输入5-20位数字",type:"error"}),this.loginPsw.psw="",this.loginPsw.psw,this.loginPsw.conPsw,this.loginPsw.conPsw="")}}},o=n,r=(e("66da"),e("2877")),w=Object(r["a"])(o,a,i,!1,null,"26c53449",null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-b3f4c03c.2f213d95.js.map