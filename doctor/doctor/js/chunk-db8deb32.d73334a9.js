(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-db8deb32"],{4555:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"content"},[s("h3",[t._v("消息列表")]),s("div",{staticClass:"btn"},t._l(t.btn,(function(e,a){return s("el-button",{key:a,class:t.activeIndex==a?"btnactive":"",on:{click:function(e){return t.btnHandle(a)}}},[t._v(t._s(e))])})),1),s("ul",t._l(t.listProp.list,(function(e,o){return s("li",{key:e.newId,on:{click:function(a){e.guid&&t.postRead(e)}}},[1===e.type?s("el-row",[s("el-col",{attrs:{span:2}},[s("div",[s("el-image",{staticStyle:{width:"110px",height:"80px","margin-right":"35px",float:"left"},attrs:{src:e.cover?e.cover:a("5114"),fit:"scale-down"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.whetherRead,expression:"item.whetherRead===0"}],staticClass:"badge"})],1)]),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"notice-left"},[s("el-row",[s("el-col",[s("div",[s("h4",[t._v(t._s(e.title))])])])],1),s("el-row",[s("el-col",[s("div",[s("div",{class:t.isFlod?"seeNotice":"seeNotice2",domProps:{innerHTML:t._s(e.content)}}),s("div",{staticClass:"closemsg",on:{click:function(a){return t.open(e)}}},[t._v("点击查看")])])])],1),s("el-row",[s("el-col",[s("span",[t._v("时间："+t._s(e.time))])])],1)],1)]),s("el-col",{attrs:{span:1}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.whetherRead,expression:"item.whetherRead===1"}],staticClass:"readmsg"},[t._v("已读")])])],1):0===e.type?s("el-row",[s("el-col",{attrs:{span:2}},[s("div",[s("el-image",{staticStyle:{width:"110px",height:"80px","margin-right":"35px",float:"left"},attrs:{src:e.cover?e.cover:a("5114"),fit:"scale-down"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.whetherRead,expression:"item.whetherRead===0"}],staticClass:"badge"})],1)]),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"notice-left"},[s("el-row",[s("el-col",[s("div",[s("h4",[t._v(t._s(e.title))])])])],1),s("el-row",[s("el-col",[s("div",[s("span",[t._v("发布渠道:"+t._s(e.channel))]),t._v("\n                                             \n                    "),s("span",[t._v("发布对象:"+t._s(e.publishingObject))])])])],1),s("el-row",[s("el-col",[s("div",[s("div",{class:t.isFlod?"seeNotice":"seeNotice2",domProps:{innerHTML:t._s(e.content)}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.isFlod,expression:"isFlod===true"}],staticClass:"closemsg",on:{click:function(a){return t.open(e)}}},[t._v("\n                      阅读全文\n                      "),s("i",{staticClass:"el-icon-arrow-up"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.isFlod,expression:"isFlod===false"}],staticClass:"closemsg2",on:{click:function(a){return t.close(e)}}},[t._v("\n                      收起\n                      "),s("i",{staticClass:"el-icon-arrow-down"})])])])],1),s("el-row",[s("el-col",[s("span",[t._v("时间："+t._s(e.time))])])],1)],1)]),s("el-col",{attrs:{span:1}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.whetherRead,expression:"item.whetherRead===1"}],staticClass:"readmsg"},[t._v("已读")])])],1):e.guid?s("el-row",[s("el-col",{attrs:{span:2}},[s("div",[s("el-image",{staticStyle:{width:"110px",height:"80px","margin-right":"35px",float:"left"},attrs:{src:e.userHead?e.userHead:a("5114"),fit:"scale-down"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.whetherRead,expression:"item.whetherRead===0"}],staticClass:"badge"})],1)]),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"notice-left"},[s("el-row",[s("el-col",[s("div",[s("h4",[t._v(t._s(e.userName))])])])],1),s("el-row",[s("el-col",[s("div",[s("p",{staticClass:"seeNotice",style:{color:e.hospitalId?"rgba(53, 179, 188, 1)":""},on:{click:function(a){e.hospitalId&&t.goHospitalDetail(e)}}},[t._v(t._s(e.content))])])])],1),s("el-row",[s("el-col",[s("span",[t._v("时间："+t._s(e.time))])])],1)],1)]),s("el-col",{attrs:{span:1}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.whetherRead,expression:"item.whetherRead===1"}],staticClass:"readmsg"},[t._v("已读")])])],1):t._e()],1)})),0)]),s("div",{staticClass:"footerbody"},[s("div",{staticClass:"footer"},[s("el-pagination",{attrs:{"page-sizes":[1,2,3,4],"page-size":20,background:"",layout:"prev, pager, next, jumper",total:t.listProp.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),s("el-dialog",{attrs:{title:"入驻邀请详情",visible:t.dialogVisible,width:"30%",center:"","show-close":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"container"},[s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("机构头像：")])]),s("el-col",{attrs:{span:19}},[s("el-avatar",{attrs:{size:60,src:t.hosDetail.hospitalLog}})],1)],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("机构名字：")])]),s("el-col",{attrs:{span:19}},[s("span",[t._v(t._s(t.hosDetail.hospitalName))])])],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("机构简介：")])]),s("el-col",{attrs:{span:19}},[s("span",[t._v(t._s(t.hosDetail.introduce))])])],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("入驻国家：")])]),s("el-col",{attrs:{span:19}},[s("span",[t._v(t._s(t.hosDetail.country))])])],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("入驻城市：")])]),s("el-col",{attrs:{span:19}},[s("span",[t._v(t._s(t.hosDetail.city))])])],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("入驻时间：")])]),s("el-col",{attrs:{span:19}},[s("span",[t._v(t._s(t.hosDetail.time))])])],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("入驻地址：")])]),s("el-col",{attrs:{span:19}},[s("span",[t._v(t._s(t.hosDetail.address))])])],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("医院类型：")])]),s("el-col",{attrs:{span:19}},[s("span",[t._v(t._s(t.hosDetail.type))])])],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:t.closeGuid}},[t._v("取 消")])],1)]),s("el-dialog",{attrs:{title:t.dialogData.title,visible:t.dialogRead,center:"",width:"30%","show-close":!1,"close-on-press-escape":""},on:{"update:visible":function(e){t.dialogRead=e}}},[s("div",{staticClass:"container"},[s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("封面:")])]),s("el-col",{attrs:{span:19}},[s("el-avatar",{attrs:{size:60,src:t.dialogData.cover}})],1)],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("发布渠道:")])]),s("el-col",{attrs:{span:19}},[s("span",[t._v(t._s(t.dialogData.channel))])])],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("发布对象:")])]),s("el-col",{attrs:{span:19}},[s("span",[t._v(t._s(t.dialogData.publishingObject))])])],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("发布时间:")])]),s("el-col",{attrs:{span:19}},[s("span",[t._v(t._s(t.dialogData.time))])])],1),s("el-row",[s("el-col",{attrs:{span:5}},[s("span",[t._v("内容:")])]),s("el-col",{attrs:{span:19}},[s("p",{domProps:{innerHTML:t._s(t.dialogData.content)}})])],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.affrim(t.dialogData)}}},[t._v("确 定")])],1)])],1)},o=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),n=a("365c"),r=(a("70f2"),a("2f62"));function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"msgNotice",props:["listProp"],data:function(){return{imgUrl:"",currentPage4:"",systemNewInfo:[],dialogVisible:!1,dialogRead:!1,count:0,hosDetail:{},btn:["全部","已读","未读"],activeIndex:0,isFlod:!0,guidData:{},dialogData:{}}},computed:c({},Object(r["b"])({noticeData:function(t){return t.noticeData}})),created:function(){},methods:{doctorFindUnreadCount:function(){var t=this;n["a"].doctorFindUnreadCount().then((function(e){console.log(e.data),e.data&&200===e.status&&t.$store.dispatch("setNoticeData",e.data)}))},handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.$emit("page",t)},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.$emit("page",t)},goHospitalDetail:function(t){this.guidData=t,this.dialogVisible=!0,this.appFindDoctorHospitalDetail(t.hospitalId)},appFindDoctorHospitalDetail:function(t){var e=this;n["a"].appFindDoctorHospitalDetail({hospitalId:t}).then((function(t){200===t.status&&t.data&&(e.hosDetail=t.data)}))},btnHandle:function(t){this.activeIndex=t,0===t?(this.$emit("num",""),this.$emit("whetherRead","")):1===t?(this.$emit("num",0),this.$emit("whetherRead",1)):(this.$emit("num",1),this.$emit("whetherRead",0))},open:function(t){this.dialogRead=!0,this.dialogData=t},postRead:function(t){this.$emit("postGuid",t)},closeGuid:function(){this.dialogVisible=!1,this.$emit("authpostGuid",this.guidData)},affrim:function(t){this.dialogRead=!1,0===t.whetherRead&&this.$emit("newId",t.newId)}}},p=d,h=(a("acec"),a("2877")),u=Object(h["a"])(p,s,o,!1,null,"7f898c3c",null);e["a"]=u.exports},5114:function(t,e,a){t.exports=a.p+"doctor/img/notice.a571c91c.png"},"61b0":function(t,e,a){"use strict";var s=a("7474"),o=a.n(s);o.a},7474:function(t,e,a){},8422:function(t,e,a){},acec:function(t,e,a){"use strict";var s=a("8422"),o=a.n(s);o.a},fc41:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mains"},[a("h2",[t._v("消息列表 >> 互动消息")]),a("notice",{attrs:{listProp:t.list},on:{whetherRead:t.getRead,authpostGuid:t.updeatGuid,page:t.getpage}})],1)},o=[],i=(a("8e6e"),a("456d"),a("ac6a"),a("bd86")),n=a("4555"),r=a("365c"),l=a("70f2"),c=a.n(l),d=a("2f62");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={name:"authNotice",components:{notice:n["a"]},data:function(){return{list:{},params:{page:1},unReadCount:{}}},computed:h({},Object(d["b"])({noticeData:function(t){return t.noticeData}})),created:function(){this.doctorFindNews(this.params),this.doctorFindUnreadCount()},methods:{doctorFindUnreadCount:function(){var t=this;r["a"].doctorFindUnreadCount().then((function(e){e.data&&200===e.status&&t.$store.dispatch("setNoticeData",e.data)}))},doctorFindNews:function(t){var e=this;r["a"].doctorFindNews(h({},t)).then((function(t){200===t.status&&t.data&&(t.data.list.forEach((function(t){t.time=c()(t.time,"YYYY-MM-DD HH:mm:ss")})),e.list=t.data)}))},doctorUpdateDoctorNewsWhetherRead:function(t){var e=this;r["a"].doctorUpdateDoctorNewsWhetherRead({guid:t}).then((function(t){e.doctorFindNews(e.params),e.doctorFindUnreadCount()}))},updeatGuid:function(t){0===t.whetherRead&&(this.doctorUpdateDoctorNewsWhetherRead(t.guid),this.doctorFindUnreadCount())},getpage:function(t){this.params.page=t,this.doctorFindNews(this.params),this.doctorFindUnreadCount()},getRead:function(t){this.params.whetherRead=t,this.doctorFindNews(this.params),this.doctorFindUnreadCount()}}},v=u,w=(a("61b0"),a("2877")),f=Object(w["a"])(v,s,o,!1,null,"650dede7",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-db8deb32.d73334a9.js.map